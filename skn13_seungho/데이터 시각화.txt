elif menu == "ë°ì´í„° ì‹œê°í™”":
    st.title("ğŸ“Š ë²•ì¸ì°¨ëŸ‰ ë°ì´í„° ì‹œê°í™”")

    chart_brands = st.multiselect("ğŸ“Œ ì œì¡°ì‚¬ ì„ íƒ", df['ì œì¡°ì‚¬'].unique())

    if chart_brands:
        chart_df = df[df['ì œì¡°ì‚¬'].isin(chart_brands)]

        group_df = chart_df.groupby('ì œì¡°ì‚¬').agg({
            '2024ë…„_íŒë§¤ëŸ‰': 'sum',
            '2025ë…„_íŒë§¤ëŸ‰': 'sum',
            '2024ë…„_ê°€ê²©': 'mean',
            '2025ë…„_ê°€ê²©': 'mean'
        }).reset_index()

        # Plotly êµ¬í˜„
        fig = px.bar(
            group_df,
            x='ì œì¡°ì‚¬',
            y=['2024ë…„_íŒë§¤ëŸ‰', '2025ë…„_íŒë§¤ëŸ‰'],
            barmode='group',
            title='ì œì¡°ì‚¬ë³„ íŒë§¤ëŸ‰ ë¹„êµ',
            labels={
                'value': 'íŒë§¤ëŸ‰',
                'variable': 'ë…„ë„',
                'ì œì¡°ì‚¬': 'ì œì¡°ì‚¬'
            }
        )

        # ê°€ê²© ì„ ê·¸ë˜í”„ ì¶”ê°€
        fig2 = px.line(
            group_df,
            x='ì œì¡°ì‚¬',
            y=['2024ë…„_ê°€ê²©', '2025ë…„_ê°€ê²©'],
            markers=True,
            title='ì œì¡°ì‚¬ë³„ í‰ê·  ê°€ê²© ë¹„êµ',
            labels={
                'value': 'ê°€ê²©(ë§Œì›)',
                'variable': 'ë…„ë„',
                'ì œì¡°ì‚¬': 'ì œì¡°ì‚¬'
            }
        )

        fig.update_layout(
            yaxis_title='íŒ\në§¤\nëŸ‰',
            xaxis_title='ì œì¡°ì‚¬'
        )
        st.plotly_chart(fig, use_container_width=True)

        fig2.update_layout(
            yaxis_title='ê°€\nê²©',
            xaxis_title='ì œì¡°ì‚¬'
        )
        st.plotly_chart(fig2, use_container_width=True)
    else:
        st.info("ë¹„êµí•  ì œì¡°ì‚¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.")
